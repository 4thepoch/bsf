<?xml version="1.0" encoding="ISO-8859-1" ?>

<!--

                    This file was generated by Jason 1.3.9
                    http://jason.sf.net
                    
                    April 17, 2013 - 20:21:45
-->

<project name   ="convoyScenario"
         basedir="."
         default="run"
xmlns:sonar="antlib:org.sonar.ant">

    <!--property name="mas2j.project.file" value="convoyScenarioOne.mas2j"/-->
    <property name="debug" value=""/> <!-- use "-debug" to run in debug mode -->
    <property name="build.dir" value="${basedir}/bin/classes" />
	<property name="dist"  location="lib"/>
	<property name="lib"  location="extralib"/>
    <property name="jasonJar" value=".\extralib\jason.jar"/>
  <!-- Define the Sonar properties -->
<property name="sonar.projectKey" value="org.codehaus.sonar:jasonBSF" />
<property name="sonar.projectName" value="BSF jasonBSF component" />
<property name="sonar.projectVersion" value="1.0" />
<property name="sonar.language" value="java" />
<property name="sonar.sources" value="java" />
<property name="sonar.binaries" value="bin" />
<property name="sonar.sourceEncoding" value="UTF-8" />
<property name="sonar.jdbc.url" value="jdbc:mysql://localhost:3306/sonar?useUnicode=true&amp;characterEncoding=utf8" />
<property name="sonar.jdbc.driverClassName" value="com.mysql.jdbc.Driver" />
<property name="sonar.jdbc.username" value="sonar" />
<property name="sonar.jdbc.password" value="sonar" />
	
	<!--path id="project.class.path">
      <fileset erroronmissingdir="false" dir="${lib}/../../javaFramework/dist">
        <include name="**/*.jar" />
    </fileset>

  </path-->

    <path id="project.classpath">
        <pathelement location="${basedir}"/>
        <pathelement location="${build.dir}"/>
        <pathelement location="${jasonJar}"/>
        <fileset dir="${basedir}/extralib" >  
			<include name="**/*.jar" /> 
		</fileset>
		<fileset erroronmissingdir="false" dir="${lib}/../../javaFramework/dist">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="${lib}/../../javaFramework/lib/smack">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="${lib}/../../javaFramework/lib/jena">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="${lib}/../../javaFramework/lib/sonar">
			<include name="**/*.jar" />
		</fileset>
    </path>
	
	<property name="dep_cp" value="${toString:project.classpath}" />

    <!-- tasks the user can override in his/her c-build.xml script -->
    <target name="user-init">
    </target>
    <target name="user-end">
    </target>

    <target name="init">
        <mkdir dir="${build.dir}" />
        <antcall target="user-init" />
    </target>

    <target name="compile" depends="init">	
        <condition property="srcdir" value="${basedir}/src/java" else="${basedir}" >
            <available file="${basedir}/src/java" />
        </condition>
        <javac srcdir="${srcdir}" destdir="${build.dir}" debug="true" optimize="true" includeantruntime="false" >
            <classpath refid="project.classpath"/>
        </javac>	
    </target>
	
	<target name="dist" depends="compile">
		<!-- Create the distribution directory and copy jar files before we define our self contained classpath -->
		<mkdir dir="${dist}"/>
		<copy todir="${dist}" flatten="true">
		<path>
			<pathelement path="${dep_cp}"/>
		</path>
		</copy>
    </target>

    <target name="datapush-scenario1" depends="compile" >
        <echo message="Running project ${ant.project.name} scenario 1" />
        <java classname="jason.infra.centralised.RunCentralisedMAS"
              failonerror="true" fork="yes" dir="${basedir}" >
            <classpath refid="project.classpath"/>
            <arg line="convoyScenarioOne.mas2j ${debug} "/>
            <!-- jvmarg line="-Xmx500M -Xss8M"/ -->    
        </java>
        <antcall target="user-end" />
    </target>
	
	    <target name="datapull-scenario2" depends="compile" >
        <echo message="Running project ${ant.project.name} scenario 2" />
        <java classname="jason.infra.centralised.RunCentralisedMAS"
              failonerror="true" fork="yes" dir="${basedir}" >
            <classpath refid="project.classpath"/>
            <arg line="convoyScenarioTwo.mas2j ${debug} "/>
            <!-- jvmarg line="-Xmx500M -Xss8M"/ -->    
        </java>
        <antcall target="user-end" />
    </target>
	
	    <target name="waypoint-scenario3" depends="compile" >
        <echo message="Running project ${ant.project.name} scenario 3 "/>
        <java classname="jason.infra.centralised.RunCentralisedMAS"
              failonerror="true" fork="yes" dir="${basedir}" >
            <classpath refid="project.classpath"/>
            <arg line="convoyScenarioThree.mas2j ${debug} "/>
            <!-- jvmarg line="-Xmx500M -Xss8M"/ -->    
        </java>
        <antcall target="user-end" />
    </target>

	    <target name="institution-flash-scenario" depends="compile" >
        <echo message="Running project ${ant.project.name} institution scenario "/>
        <java classname="jason.infra.centralised.RunCentralisedMAS"
              failonerror="true" fork="yes" dir="${basedir}" >
            <classpath refid="project.classpath"/>
            <arg line="convoyScenarioInst.mas2j ${debug} "/>
            <!-- jvmarg line="-Xmx500M -Xss8M"/ -->    
        </java>
        <antcall target="user-end" />
    </target>

	    <target name="institution-trafficlight-scenario" depends="compile" >
        <echo message="Running project ${ant.project.name} institution scenario "/>
        <java classname="jason.infra.centralised.RunCentralisedMAS"
              failonerror="true" fork="yes" dir="${basedir}" >
            <classpath refid="project.classpath"/>
            <arg line="convoyScenarioInstTLights.mas2j ${debug} "/>
            <!-- jvmarg line="-Xmx500M -Xss8M"/ -->    
        </java>
        <antcall target="user-end" />
    </target>

    <target name="clean" >
        <delete failonerror="no" includeEmptyDirs="true" verbose="true">
            <fileset dir="${basedir}" includes="**/*.class"/>
        </delete>
		<delete dir="${build}"/>
		<delete dir="${dist}"/>
		<delete dir="./bin"/>
    </target>

<!--target name="sonar" depends="compile" description="Perform sonar code analysis">
    <taskdef uri="antlib:org.sonar.ant" resource="org/sonar/ant/antlib.xml">
	<classpath refid="project.classpath"/>
    </taskdef>

    <sonar:sonar />
</target-->

</project>
